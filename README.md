# gpu-fabric
Simple Ansible playbook to configure GPU droplets

# how-to

Edit the `droplets` file under the `inventory` directory to specify the list of droplet's public addresses
under the `[multinode_gpu_droplets]` section. Leave the rest unchanged, save and close the file.

After that, run the following command:

```
ansible-playbook -i inventory/droplets customer-play.yaml
```

With success you should see the following similar output:

```
PLAY [multinode_gpu_droplets] *************************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ********************************************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

TASK [read /etc/netplan/50-cloud-init.yaml] ***********************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

TASK [extract /etc/netplan/50-cloud-init.yaml] ********************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

TASK [set a unique index for each droplet] ************************************************************************************************************************************************************************************************************
ok: [10.10.10.10] => (item=10.10.10.10)

TASK [adjust /etc/netplan/50-cloud-init.yaml] *********************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

TASK [write /etc/netplan/50-cloud-init.yaml] **********************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

TASK [install lldp] ***********************************************************************************************************************************************************************************************************************************
ok: [10.10.10.10]

PLAY RECAP ********************************************************************************************************************************************************************************************************************************************
10.10.10.10             : ok=7    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
```
